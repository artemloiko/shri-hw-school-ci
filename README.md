# SHRI School CI

### Node.js version 12.16.1

## Задание по инфраструктуре лежит в папке builder

## Перед началом работы

```bash
npm run setup # установит все разом
# или можно самому только необходимые зависимости поставить
npm install # npm install в корне опционален, т.к. в скриптах используется npx
cd client && npm install
cd server && npm install
```

### Начало работы в [client](client/README.md)

### Начало работы в [server](server/README.md)

### Начало работы в [builder](builder/README.md)

Для запуска в режиме разработки нужно запустить паралельно сервер и клиент.  
Подробности по запуску каждого выше.

Для запуска в режиме прода нужно сбилдить клиент и запустить сервер в режиме прода.

### Комманды для быстрого запуска

```bash
npm run setup # устанавливает все необходимые зависимости во всех папках
npm run dev # паралельный запуск клиента и сервера в дев режимах
npm run prod # билдит клиент и запускает сервер в прод режиме с SSR клиента
npm run prod:test # билдит клиент и запускает сервер в тестовом режиме. (для e2e тестов)
# Использовать если клиент сбилжен
npm run prod:server # запускает сервер в прод режиме
npm run prod:t # запускает сервер в тестовом режиме (для e2e тестов)
```

### Подробности о тестировании в [TESTING.md](TESTING.md)
